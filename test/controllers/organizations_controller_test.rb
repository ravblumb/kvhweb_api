require "test_helper"

class OrganizationsControllerTest < ActionDispatch::IntegrationTest
  setup do
    @organization = organizations(:one)
  end

  test "should get index" do
    get organizations_url, as: :json
    assert_response :success
  end

  test "should create organization" do
    assert_difference('Organization.count') do
      post organizations_url, params: { organization: { account_manager_id: @organization.account_manager_id, additional_profile_question_1: @organization.additional_profile_question_1, additional_profile_question_2: @organization.additional_profile_question_2, additional_profile_question_3: @organization.additional_profile_question_3, additional_profile_question_4: @organization.additional_profile_question_4, additional_profile_question_5: @organization.additional_profile_question_5, address_id: @organization.address_id, alias: @organization.alias, alternate_inspection_contact_id: @organization.alternate_inspection_contact_id, alternate_inspector_id: @organization.alternate_inspector_id, annual_fee: @organization.annual_fee, application_state: @organization.application_state, area_code: @organization.area_code, automatic_koshering: @organization.automatic_koshering, bill_amount: @organization.bill_amount, bill_rule: @organization.bill_rule, billing_address_id: @organization.billing_address_id, billing_address_type: @organization.billing_address_type, billing_code: @organization.billing_code, bulk_ingredients: @organization.bulk_ingredients, business_contact_id: @organization.business_contact_id, cancel_reason: @organization.cancel_reason, certified_at: @organization.certified_at, certifier_number: @organization.certifier_number, challa_procedures: @organization.challa_procedures, checked_existing_ingredients: @organization.checked_existing_ingredients, cleaning_in_place: @organization.cleaning_in_place, closing_question_1: @organization.closing_question_1, closing_question_2: @organization.closing_question_2, closing_question_3: @organization.closing_question_3, closing_question_4: @organization.closing_question_4, closing_question_5: @organization.closing_question_5, comments: @organization.comments, company_id: @organization.company_id, contacts_reviewed_at: @organization.contacts_reviewed_at, contract_anniversary_date: @organization.contract_anniversary_date, coordinator_id: @organization.coordinator_id, created_by_id: @organization.created_by_id, cuisine: @organization.cuisine, dairy_comments: @organization.dairy_comments, dairy_pareve_segregation: @organization.dairy_pareve_segregation, data_source: @organization.data_source, date_code_format: @organization.date_code_format, deleted_at: @organization.deleted_at, disable_checked_existing_ingredients: @organization.disable_checked_existing_ingredients, disable_found_seals_intact: @organization.disable_found_seals_intact, disable_pas_bishul_setup: @organization.disable_pas_bishul_setup, disable_pas_bishul_yisroel_procedures: @organization.disable_pas_bishul_yisroel_procedures, disable_produce_checking: @organization.disable_produce_checking, disable_question_batch_sheets: @organization.disable_question_batch_sheets, disable_question_changes_found: @organization.disable_question_changes_found, disable_question_labels: @organization.disable_question_labels, disable_question_master_formula_cards: @organization.disable_question_master_formula_cards, disable_question_process_flow: @organization.disable_question_process_flow, disable_question_schedule_a: @organization.disable_question_schedule_a, disable_question_schedule_b: @organization.disable_question_schedule_b, disable_sealed_all_areas: @organization.disable_sealed_all_areas, disable_supplies_needed: @organization.disable_supplies_needed, email_notification: @organization.email_notification, formulas_complete_at: @organization.formulas_complete_at, found_seals_intact: @organization.found_seals_intact, fresh_vegetables: @organization.fresh_vegetables, incorporated_under_the_laws_of: @organization.incorporated_under_the_laws_of, industry: @organization.industry, ingredients_location: @organization.ingredients_location, inspection_contact_id: @organization.inspection_contact_id, inspection_frequency: @organization.inspection_frequency, inspector_id: @organization.inspector_id, is_access_permitted: @organization.is_access_permitted, is_active: @organization.is_active, is_all_kosher: @organization.is_all_kosher, is_batch: @organization.is_batch, is_certified_for_batches: @organization.is_certified_for_batches, is_certified_for_food_packaging: @organization.is_certified_for_food_packaging, is_certified_for_food_production: @organization.is_certified_for_food_production, is_certified_for_private_labels: @organization.is_certified_for_private_labels, is_challa: @organization.is_challa, is_copacker: @organization.is_copacker, is_in_directory: @organization.is_in_directory, is_in_web: @organization.is_in_web, is_jewish_owned: @organization.is_jewish_owned, is_passover: @organization.is_passover, is_private_label: @organization.is_private_label, is_quasi_food_service: @organization.is_quasi_food_service, is_shabbos_yom_tov: @organization.is_shabbos_yom_tov, keywords: @organization.keywords, legacy_id: @organization.legacy_id, legal_name: @organization.legal_name, link_to_article: @organization.link_to_article, loc_comment: @organization.loc_comment, loc_sharing_allowed: @organization.loc_sharing_allowed, location_description: @organization.location_description, lock_box_number: @organization.lock_box_number, logo_binary_data: @organization.logo_binary_data, logo_content_type: @organization.logo_content_type, logo_filename: @organization.logo_filename, mailing_address_id: @organization.mailing_address_id, mailing_address_type: @organization.mailing_address_type, meat_comments: @organization.meat_comments, midday_question_1: @organization.midday_question_1, midday_question_2: @organization.midday_question_2, midday_question_3: @organization.midday_question_3, midday_question_4: @organization.midday_question_4, midday_question_5: @organization.midday_question_5, name: @organization.name, name_without_line_breaks: @organization.name_without_line_breaks, non_certified_items: @organization.non_certified_items, non_kosher_ingredients: @organization.non_kosher_ingredients, online_payment: @organization.online_payment, opening_question_1: @organization.opening_question_1, opening_question_2: @organization.opening_question_2, opening_question_3: @organization.opening_question_3, opening_question_4: @organization.opening_question_4, opening_question_5: @organization.opening_question_5, other_certifiers: @organization.other_certifiers, pareve_comments: @organization.pareve_comments, pas_bishul_setup: @organization.pas_bishul_setup, pas_bishul_yisroel_procedures: @organization.pas_bishul_yisroel_procedures, passover_on_label: @organization.passover_on_label, plant_that_serves_food: @organization.plant_that_serves_food, private_label_loc_date: @organization.private_label_loc_date, product_code_is_public: @organization.product_code_is_public, product_loc_date: @organization.product_loc_date, qa_contact_id: @organization.qa_contact_id, red_flag_items: @organization.red_flag_items, release_pending: @organization.release_pending, reliability: @organization.reliability, reviewed_by_id: @organization.reviewed_by_id, sealed_all_areas: @organization.sealed_all_areas, seating: @organization.seating, serves_dairy: @organization.serves_dairy, serves_meat: @organization.serves_meat, serves_pareve: @organization.serves_pareve, signing_not_required: @organization.signing_not_required, steam_condensate_issue: @organization.steam_condensate_issue, storage_loc_comment: @organization.storage_loc_comment, supplies_needed: @organization.supplies_needed, technical_profile: @organization.technical_profile, telcom_id: @organization.telcom_id, type: @organization.type, ukd_code: @organization.ukd_code, updated_by_id: @organization.updated_by_id, web_description: @organization.web_description } }, as: :json
    end

    assert_response 201
  end

  test "should show organization" do
    get organization_url(@organization), as: :json
    assert_response :success
  end

  test "should update organization" do
    patch organization_url(@organization), params: { organization: { account_manager_id: @organization.account_manager_id, additional_profile_question_1: @organization.additional_profile_question_1, additional_profile_question_2: @organization.additional_profile_question_2, additional_profile_question_3: @organization.additional_profile_question_3, additional_profile_question_4: @organization.additional_profile_question_4, additional_profile_question_5: @organization.additional_profile_question_5, address_id: @organization.address_id, alias: @organization.alias, alternate_inspection_contact_id: @organization.alternate_inspection_contact_id, alternate_inspector_id: @organization.alternate_inspector_id, annual_fee: @organization.annual_fee, application_state: @organization.application_state, area_code: @organization.area_code, automatic_koshering: @organization.automatic_koshering, bill_amount: @organization.bill_amount, bill_rule: @organization.bill_rule, billing_address_id: @organization.billing_address_id, billing_address_type: @organization.billing_address_type, billing_code: @organization.billing_code, bulk_ingredients: @organization.bulk_ingredients, business_contact_id: @organization.business_contact_id, cancel_reason: @organization.cancel_reason, certified_at: @organization.certified_at, certifier_number: @organization.certifier_number, challa_procedures: @organization.challa_procedures, checked_existing_ingredients: @organization.checked_existing_ingredients, cleaning_in_place: @organization.cleaning_in_place, closing_question_1: @organization.closing_question_1, closing_question_2: @organization.closing_question_2, closing_question_3: @organization.closing_question_3, closing_question_4: @organization.closing_question_4, closing_question_5: @organization.closing_question_5, comments: @organization.comments, company_id: @organization.company_id, contacts_reviewed_at: @organization.contacts_reviewed_at, contract_anniversary_date: @organization.contract_anniversary_date, coordinator_id: @organization.coordinator_id, created_by_id: @organization.created_by_id, cuisine: @organization.cuisine, dairy_comments: @organization.dairy_comments, dairy_pareve_segregation: @organization.dairy_pareve_segregation, data_source: @organization.data_source, date_code_format: @organization.date_code_format, deleted_at: @organization.deleted_at, disable_checked_existing_ingredients: @organization.disable_checked_existing_ingredients, disable_found_seals_intact: @organization.disable_found_seals_intact, disable_pas_bishul_setup: @organization.disable_pas_bishul_setup, disable_pas_bishul_yisroel_procedures: @organization.disable_pas_bishul_yisroel_procedures, disable_produce_checking: @organization.disable_produce_checking, disable_question_batch_sheets: @organization.disable_question_batch_sheets, disable_question_changes_found: @organization.disable_question_changes_found, disable_question_labels: @organization.disable_question_labels, disable_question_master_formula_cards: @organization.disable_question_master_formula_cards, disable_question_process_flow: @organization.disable_question_process_flow, disable_question_schedule_a: @organization.disable_question_schedule_a, disable_question_schedule_b: @organization.disable_question_schedule_b, disable_sealed_all_areas: @organization.disable_sealed_all_areas, disable_supplies_needed: @organization.disable_supplies_needed, email_notification: @organization.email_notification, formulas_complete_at: @organization.formulas_complete_at, found_seals_intact: @organization.found_seals_intact, fresh_vegetables: @organization.fresh_vegetables, incorporated_under_the_laws_of: @organization.incorporated_under_the_laws_of, industry: @organization.industry, ingredients_location: @organization.ingredients_location, inspection_contact_id: @organization.inspection_contact_id, inspection_frequency: @organization.inspection_frequency, inspector_id: @organization.inspector_id, is_access_permitted: @organization.is_access_permitted, is_active: @organization.is_active, is_all_kosher: @organization.is_all_kosher, is_batch: @organization.is_batch, is_certified_for_batches: @organization.is_certified_for_batches, is_certified_for_food_packaging: @organization.is_certified_for_food_packaging, is_certified_for_food_production: @organization.is_certified_for_food_production, is_certified_for_private_labels: @organization.is_certified_for_private_labels, is_challa: @organization.is_challa, is_copacker: @organization.is_copacker, is_in_directory: @organization.is_in_directory, is_in_web: @organization.is_in_web, is_jewish_owned: @organization.is_jewish_owned, is_passover: @organization.is_passover, is_private_label: @organization.is_private_label, is_quasi_food_service: @organization.is_quasi_food_service, is_shabbos_yom_tov: @organization.is_shabbos_yom_tov, keywords: @organization.keywords, legacy_id: @organization.legacy_id, legal_name: @organization.legal_name, link_to_article: @organization.link_to_article, loc_comment: @organization.loc_comment, loc_sharing_allowed: @organization.loc_sharing_allowed, location_description: @organization.location_description, lock_box_number: @organization.lock_box_number, logo_binary_data: @organization.logo_binary_data, logo_content_type: @organization.logo_content_type, logo_filename: @organization.logo_filename, mailing_address_id: @organization.mailing_address_id, mailing_address_type: @organization.mailing_address_type, meat_comments: @organization.meat_comments, midday_question_1: @organization.midday_question_1, midday_question_2: @organization.midday_question_2, midday_question_3: @organization.midday_question_3, midday_question_4: @organization.midday_question_4, midday_question_5: @organization.midday_question_5, name: @organization.name, name_without_line_breaks: @organization.name_without_line_breaks, non_certified_items: @organization.non_certified_items, non_kosher_ingredients: @organization.non_kosher_ingredients, online_payment: @organization.online_payment, opening_question_1: @organization.opening_question_1, opening_question_2: @organization.opening_question_2, opening_question_3: @organization.opening_question_3, opening_question_4: @organization.opening_question_4, opening_question_5: @organization.opening_question_5, other_certifiers: @organization.other_certifiers, pareve_comments: @organization.pareve_comments, pas_bishul_setup: @organization.pas_bishul_setup, pas_bishul_yisroel_procedures: @organization.pas_bishul_yisroel_procedures, passover_on_label: @organization.passover_on_label, plant_that_serves_food: @organization.plant_that_serves_food, private_label_loc_date: @organization.private_label_loc_date, product_code_is_public: @organization.product_code_is_public, product_loc_date: @organization.product_loc_date, qa_contact_id: @organization.qa_contact_id, red_flag_items: @organization.red_flag_items, release_pending: @organization.release_pending, reliability: @organization.reliability, reviewed_by_id: @organization.reviewed_by_id, sealed_all_areas: @organization.sealed_all_areas, seating: @organization.seating, serves_dairy: @organization.serves_dairy, serves_meat: @organization.serves_meat, serves_pareve: @organization.serves_pareve, signing_not_required: @organization.signing_not_required, steam_condensate_issue: @organization.steam_condensate_issue, storage_loc_comment: @organization.storage_loc_comment, supplies_needed: @organization.supplies_needed, technical_profile: @organization.technical_profile, telcom_id: @organization.telcom_id, type: @organization.type, ukd_code: @organization.ukd_code, updated_by_id: @organization.updated_by_id, web_description: @organization.web_description } }, as: :json
    assert_response 200
  end

  test "should destroy organization" do
    assert_difference('Organization.count', -1) do
      delete organization_url(@organization), as: :json
    end

    assert_response 204
  end
end
